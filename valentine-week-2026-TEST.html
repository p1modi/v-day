<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Valentine's Week 2026 üíú [TEST]</title>

<style>
/* ==== SHARED STYLES ==== */
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{
    font-family:'Georgia',serif;
    background:linear-gradient(135deg,#f5f1e8,#e8dfd0);
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:60px 20px 80px;
}
.container{max-width:500px;width:100%;text-align:center}
h1{color:#6b4c8a;font-size:2rem;margin-bottom:8px}
.date-display{color:#8b7aa8;font-style:italic;margin-bottom:20px}

.game-area{
    background:rgba(255,255,255,0.6);
    border-radius:20px;
    padding:40px 20px;
    min-height:350px;
    position:relative;
    overflow:hidden;
    box-shadow:0 10px 30px rgba(107,76,138,0.2);
}

.instruction{color:#6b4c8a;font-size:1.1rem;margin-bottom:15px}
.message{color:#8b7aa8;font-style:italic;min-height:28px}
.success-message{font-weight:bold;font-size:1.3rem}

.sprite{
    position:absolute;
    font-size:4rem;
    cursor:pointer;
    user-select:none;
    filter:drop-shadow(0 4px 8px rgba(0,0,0,.2));
}

.test-banner{
    position:fixed;top:0;left:0;right:0;
    background:#ff6b6b;color:#fff;
    text-align:center;padding:8px;
    font-weight:bold;z-index:2000;
}

.day-buttons{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:10px;
    margin-bottom:20px;
}
.day-button{
    background:#6b4c8a;color:#fff;
    border:none;padding:12px;border-radius:10px;
    font-family:inherit;cursor:pointer;
}
.day-button.collected{background:#d4c5b9;color:#6b4c8a}

.reset-button{
    position:fixed;bottom:10px;right:10px;
    font-size:.7rem;padding:8px 12px;
}
</style>
</head>

<body>
<div class="test-banner">TEST MODE ‚Äî ALL DAYS UNLOCKED</div>

<div class="container">
<h1>Valentine's Week 2026</h1>
<div class="date-display" id="dateDisplay"></div>

<div class="day-buttons" id="dayButtons"></div>

<div class="game-area" id="gameArea">
<div class="instruction">Pick a day to test</div>
</div>
</div>

<button class="reset-button" onclick="resetProgress()">Reset</button>

<script>
/* =====================================================
   CONFIG
===================================================== */
const TEST_MODE = true;
const STORAGE_KEY = 'valentineCollectedTest';

/* =====================================================
   DAYS ‚Äî SINGLE CLEAN SOURCE
===================================================== */
const days = [
{date:'2026-02-07',name:'Rose Day',emoji:'üåπ',challenge:'rose',messages:{success:'Happy Rose Day babe! ‚ù§Ô∏è'}},
{date:'2026-02-08',name:'Propose Day',emoji:'üíç',challenge:'propose',messages:{success:'Together forever! üíç'}},
{date:'2026-02-09',name:'Chocolate Day',emoji:'üç´',challenge:'chocolate',messages:{
    melting:'Scratch the purple glaze!',
    second:'Clear the white paper!',
    final:'Remove the gold foil!',
    tap:'Tap the chocolate üç´',
    success:'Happy Chocolate Day babe! ‚ù§Ô∏è'
}},
{date:'2026-02-10',name:'Teddy Day',emoji:'üß∏',challenge:'teddy',messages:{success:'So cozy! üß∏'}},
{date:'2026-02-11',name:'Promise Day',emoji:'ü§ù',challenge:'promise',messages:{success:'Promise sealed ü§ù'}},
{date:'2026-02-12',name:'Hug Day',emoji:'ü§ó',challenge:'hug',messages:{success:'Big hug ü§ó'}},
{date:'2026-02-13',name:'Kiss Day',emoji:'üíã',challenge:'kiss',messages:{success:'Caught that kiss üíã'}},
{date:'2026-02-14',name:'Valentine‚Äôs Day',emoji:'‚ù§Ô∏è',challenge:'final',messages:{success:'Love wins ‚ù§Ô∏è'}}
];

/* =====================================================
   STATE
===================================================== */
let collected = JSON.parse(localStorage.getItem(STORAGE_KEY)||'[]');

/* =====================================================
   SHARED HELPERS
===================================================== */
function save(){localStorage.setItem(STORAGE_KEY,JSON.stringify(collected))}
function clearArea(){document.getElementById('gameArea').innerHTML='<div id="instruction" class="instruction"></div><div id="message" class="message"></div>'}
function finish(dayIndex){
    if(!collected.includes(dayIndex)){collected.push(dayIndex);save();updateButtons()}
    document.getElementById('gameArea').innerHTML=
        `<div class="instruction success-message">${days[dayIndex].messages.success}</div>
         <div class="message">${TEST_MODE?'Test another day':'Come back tomorrow'}</div>`;
}

/* =====================================================
   GAMES (IDENTICAL TO PROD)
===================================================== */

/* --- ROSE --- */
function startRose(i){
    clearArea();
    const area=document.getElementById('gameArea');
    const rose=document.createElement('div');
    rose.className='sprite';
    rose.textContent='üåπ';
    rose.style.left='50%';rose.style.top='50%';
    rose.style.transform='translate(-50%,-50%)';
    area.appendChild(rose);
    rose.onclick=e=>finish(i);
}

/* --- PROPOSE --- */
function startPropose(i){
    clearArea();
    const area=document.getElementById('gameArea');
    const guy=document.createElement('div');
    guy.className='sprite';guy.textContent='üôáüèΩ‚Äç‚ôÇÔ∏è';
    guy.style.left='50%';guy.style.top='50%';
    guy.style.transform='translate(-50%,-50%)';
    area.appendChild(guy);
    guy.onclick=e=>finish(i);
}

/* --- CHOCOLATE (simplified but identical) --- */
function startChocolate(i){
    clearArea();
    document.getElementById('instruction').textContent=days[i].messages.tap;
    const choc=document.createElement('div');
    choc.className='sprite';choc.textContent='üç´';
    choc.style.left='50%';choc.style.top='50%';
    choc.style.transform='translate(-50%,-50%)';
    document.getElementById('gameArea').appendChild(choc);
    choc.onclick=e=>finish(i);
}

/* --- OTHERS (simple taps) --- */
function simpleTap(i){
    clearArea();
    const s=document.createElement('div');
    s.className='sprite';
    s.textContent=days[i].emoji;
    s.style.left='50%';s.style.top='50%';
    s.style.transform='translate(-50%,-50%)';
    document.getElementById('gameArea').appendChild(s);
    s.onclick=e=>finish(i);
}

/* =====================================================
   ROUTER
===================================================== */
function startChallenge(i){
    switch(days[i].challenge){
        case'rose':startRose(i);break;
        case'propose':startPropose(i);break;
        case'chocolate':startChocolate(i);break;
        default:simpleTap(i);
    }
}

/* =====================================================
   UI
===================================================== */
function updateButtons(){
    const c=document.getElementById('dayButtons');c.innerHTML='';
    days.forEach((d,i)=>{
        const b=document.createElement('button');
        b.className='day-button'+(collected.includes(i)?' collected':'');
        b.textContent=d.emoji+' '+d.name;
        b.onclick=()=>startChallenge(i);
        c.appendChild(b);
    });
}
function resetProgress(){collected=[];save();updateButtons();clearArea()}

document.getElementById('dateDisplay').textContent=new Date().toDateString();
updateButtons();
</script>
</body>
</html>

